<script>
	import { showPromotion, removePromotion } from '$js/promotion';
	export let text = '';
	export let button_text = '';
	export let button_link = '';
	export let color = '';
	export let id = '';
	let open = showPromotion(id);
</script>

<div
	style="background-color: {color}"
	class="flex p-2 sm:p-0 {open ? 'h-auto' : 'hidden'} overflow-hidden"
>
	<div class="w-12 flex-none" />
	<div class="my-auto flex grow place-content-center">
		<div class="flex flex-col gap-2 text-xl sm:flex-row">
			<p class="py-0.5 text-shadow-xl">{text}</p>
			<a
				class="mx-auto rounded-full text-shadow-xl bg-background-100/25 px-3 py-0.5 hover:bg-background-100/40"
				href={button_link}>{button_text}</a
			>
		</div>
	</div>
	<div class="my-auto w-12 flex-none p-2">
		<button
			on:click={() => {
				open = false;
				removePromotion(id);
			}}
			class="w-full rounded-full bg-background-100/25 p-1.5 hover:bg-background-100/40"
		>
			<svg viewBox="0 0 24 24">
				<g fill="none" fill-rule="evenodd">
					<path
						d="M24 0v24H0V0h24ZM12.5934901 23.257841l-.0115499.0016721-.0710625.0355308-.0189986.003703-.0151639-.003703-.0710604-.0355308c-.0098319-.0031469-.0186055-.0004896-.0235127.0053943l-.0041098.0109236-.0170913.4272787.0049537.0203897.0110101.0122145.1035729.0739792.0148714.0039203.0117661-.0039203.103575-.0739792.0126036-.0160406.0033589-.0165636-.0170917-.4272787c-.0019886-.0101297-.0085498-.0165317-.0160709-.01799Zm.2649005-.1125548-.0138421.002021-.1847042.0923525-.0099621.0102455-.0026879.0112062.0179.4295275.0048406.0127789.0084511.0070753.2009542.0927458c.0120883.003661.0228931-.0002514.0284884-.0080125l.0039949-.0140625-.0341458-.6146308c-.0023895-.0119434-.0102675-.0195315-.0192871-.0212469Zm-.7153433.002021c-.0098295-.0049147-.020871-.0020466-.0274108.0052882l-.0057192.0139377-.0341459.6146308c-.0006391.0115.0070385.0206963.0168767.0234037l.0156079-.0013287.2009546-.0927458.0094391-.0080584.0038546-.0117958.0178967-.4295275-.003156-.0125938-.0094919-.0088579-.1847058-.0923525Z"
					/>
					<path
						class="fill-background-100"
						d="m12 14.1215 5.3032 5.3033c.5858.5858 1.5356.5858 2.1214 0 .5858-.5858.5858-1.5355 0-2.1213l-5.3033-5.3033 5.3033-5.3033c.5858-.58578.5858-1.53553 0-2.12132-.5858-.58578-1.5356-.58578-2.1214 0L12 9.87888 6.69665 4.57557c-.58579-.58579-1.53554-.58579-2.12132 0-.58579.58579-.58579 1.53553 0 2.12132l5.3033 5.30331-5.3033 5.3033c-.58579.5858-.58579 1.5355 0 2.1213.58578.5858 1.53553.5858 2.12132 0L12 14.1215Z"
					/>
				</g>
			</svg>
		</button>
	</div>
</div>
